# 데이터베이스

## 데이터베이스(Database, DB) 란?

데이터베이스란 데이터의 집합, 구조화된 정보 또는 데이터의 조직화된 모음을 말한다.
일반적으로 컴퓨터 시스템에 전자적으로 저장되고, 데이터베이스는 일반적으로 데이터베이스 관리 시스템(DBMS)에 의해 제어된다.

## 데이터베이스의 등장 배경
데이터베이스가 등장하기 전에는 구조화되지 않은 파일 처리 시스템을 사용해 데이터를 관리했다.
![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fb579d1%2Fbtrblj18Uut%2FpA3hkqZYO1zcjyXrrPgS2K%2Fimg.png)
사진 출처 : https://yaelimeee.tistory.com/23

이 파일 처리 시스템은 각 파일마다 필요한 데이터를 각각 가지고 있었어야 하므로 비효율적이었고, 한 데이터에 변경사항이 있다면 각 파일에 해당되는 데이터를 모두 
변경해야 하는 문제가 있었다. 이러한 문제를 해결하기 위해 등장한 것이 데이터베이스이다.

## 데이터베이스의 특징

1. **동시 공유(Concurrent Sharing)** : 데이터베이스는 서로 다른 목적을 가진 여러 사용자들을 위한 것이므로 다수의 사용자가 동시에 같은 내용의 데이터를 이용할 수 있어야 한다.
2. **계속적인 변화(Continuous Evolution)** : 데이터베이스의 상태는 동적이다. 즉, 새로운 데이터의 삽입, 삭제, 갱신으로 항상 최신의 데이터를 유지한다.
3. **중복의 최소화(Redundancy Minimize)** : 동일한 내용의 데이터가 중복되어 있지 않아야 하고, 다양한 접근 방식이 마련되어 있어야 하며, 검색이나 갱신이 효율적으로 이루어질 수 있도록 해야 한다.
4. **실시간 접근성(Real-Time Accessibility)** : 수시적이고 비정형적인 질의(조회)에 대하여 실시간 처리에 의한 응답이 가능해야 한다.
5. **내용에 의한 참조(Content Reference)** : 데이터베이스에 있는 데이터를 참조할 때 데이터 레코드의 주소나 위치에 의해서가 아니라 사용자가 요구하는 데이터 내용으로 데이터를 찾는다.

### + 기타 특징
1. **데이터의 독립성** : 데이터베이스의 구조와 데이터의 내용이 서로 영향을 미치지 않는다.
   * 논리적 데이터 독립성 : 데이터베이스의 논리적 구조가 변경되어도(예 : 테이블의 속성 또는 관계의 추가, 삭제 등) 사용자의 요구에 영향을 주지 않는다.
   * 물리적 데이터 독립성 : 데이터베이스의 물리적 구조가 변경되어도(예 : 파일 저장 방식, 인덱스의 구성) 논리적 구조나 데이터의 내용에 영향을 주지 않는다.

2. **데이터의 무결성** : 데이터의 정확성(중복, 누락이 없음), 일관성(원인과 결과의 의미가 연속적으로 보장), 유효성이 유지되어야 한다.


## 데이터베이스의 성능

데이터베이스의 성능 문제를 해결하기 위한 핵심적인 부분 중 하나는 디스크 I/O(입출력)를 최소화하는 것이다.
여기서 '디스크 I/O'란 디스크 드라이브에 저장된 데이터를 읽고 쓰는 과정을 의미한다. 

이 과정은 디스크 드라이브 내부의 플래터(원판 형태의 저장 매체)를 회전시켜 데이터가 저장된 위치로 디스크 헤더(읽기/쓰기를 수행하는 부품)를 이동시키고, 그 위치에서 데이터를 읽거나 쓰는 것을 포함하게 된다.

이 때 중요한 점은 데이터를 읽고 쓰는 데 걸리는 시간이 주로 디스크 헤더의 이동에 의해 결정된다는 것이다. 따라서 디스크의 성능은 헤더의 위치 이동 없이 얼마나 많은 데이터를 한 번에 처리할 수 있느냐에 따라 달라진다.

### 디스크 I/O

데이터베이스에서는 순차 I/O와 랜덤 I/O 라는 두 가지 유형의 디스크 I/O가 있다.

1. **순차 I/O(Sequential I/O)**: 데이터가 디스크 상에서 **연속적으로 저장**되어 있어, 디스크 헤더의 이동이 적어 데이터를 빠르게 읽거나 쓸 수 있다.


2. **랜덤 I/O(Random I/O)**: **데이터가 디스크 상의 여러 위치에 흩어져 있어**, 헤더가 자주 이동해야 하므로 상대적으로 느린 방식이다.

현실의 데이터베이스 작업에서는 대부분의 I/O가 랜덤 I/O로 이루어지는데,
이는 디스크 헤더의 많은 이동을 필요로 하며 성능 저하의 원인이 된다.
따라서 데이터베이스의 성능을 향상시키기 위한 주요 전략 중 하나는 이러한 랜덤 I/O를 순차 I/O처럼 처리하도록 최적화하는 것이다.

이를 위한 방법 중 하나가 바로 **'데이터베이스 쿼리 튜닝'**인데, 
이는 랜덤 I/O의 발생을 줄이고 데이터 접근을 보다 효율적으로 만들어 성능을 향상시키는 것을 목표로 한다.

### 왜 현실의 데이터베이스 작업은 대부분의 I/O가 랜덤 I/O 인가?

데이터 접근 패턴의 복잡성 때문이다.

현실의 애플리케이션 또는 시스템은 매우 다양한 종류의 데이터를 다룬다. 이 데이터는 테이블 간의 관계, 사용자 요청
등에 따라 복잡한 방식으로 접근해야 할 때가 있다. 

이런 요청은 데이터가 물리적으로 연속적으로 저장되지 않은 위치에서 이루어지는 경우가 많으므로, 랜덤 I/O가 발생한다.

### 데이터베이스 쿼리 튜닝이란?
데이터베이스 쿼리 튜닝(Database Query Tuning)은 데이터베이스 시스템에서 쿼리의 성능을 최적화하는 과정이다.

쿼리를 최적화하고(Query Optimization)(쿼리 자체의 효율성), 인덱스를 활용하고(Index Utilization), 스키마 설계를 최적화하는(Schema Design Optimization)(불필요한 테이블 제거, 적절한 데이터 타입 선택) 등의 방법이 있다.